{% extends 'base.html' %}

{% block title_name %} Topology {% endblock %}

{% block content %}
<div class="container">
    <h1 style="color:blue;">Network Topology</h1>

    <h2 style="color:red;">Hosts</h2>

    <table class="table table-dark">
        <thead>
        <tr>
            <th scope="col">Host</th>
            <th scope="col">IP Address</th>
            <th scope="col">MAC Address</th>
            <th scope="col">Port Name</th>
            <th scope="col">Status</th>
        </tr>
        </thead>

        <tbody>
        {%- for data in nodes|sort %}
        <tr>
            <td class="table-primary">{{ data.0}}</td>
            <td>{{ data.1}}</td>
            <td>{{ data.2}}</td>
            <td>{{ data.3}}</td>
            <td>{{ data.4}}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>


    <h2 style="color:red;">Switches</h2>
    <table class="table table-dark">
        <thead>
        <tr>
            <th scope="col">Switch</th>
            <th scope="col">Ports</th>
            <th scope="col">Connectected Node</th>
        </tr>
        </thead>

        <tbody>

        {% for key in keys %}
        <tr>
            <td rowspan="{{switch[key]|length}}" class="table-primary">{{key}}</td>
            <td>{{switch[key].0.0}}</td>
            <td>{{switch[key].0.1}}</td>
        </tr>
        {% for j in range(1,switch[key]|length) %}
        <tr>
            <td>{{switch[key][j][0]}}</td>
            <td>{{switch[key][j][1]}}</td>
        </tr>
        {% endfor %}

        {% endfor %}
        </tbody>
    </table>
</div>
</br>
{% endblock %}